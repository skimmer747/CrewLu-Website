// Theme System with CSS Custom Properties
// Automatically switches between light and dark modes based on system preferences

:root {
	// Light Theme (Default)
	--color-bg: #ffffff;
	--color-bg-alt: #f5f5f5;
	--color-wrapper-bg: #f8f8f8;
	--color-fg: #1a1a1a;
	--color-fg-bold: #000000;
	--color-fg-light: #6b6b6b;
	--color-border: #e5e5e5;
	--color-border-bg: rgba(229, 229, 229, 0.25);

	// Card backgrounds
	--color-card-bg: #f5f5f5;
	--color-card-border: #d5d5d5;

	// Navigation
	--color-nav-bg: rgba(255, 255, 255, 0.95);
	--color-nav-border: #e5e5e5;

	// Accent Colors (shared between themes)
	--color-accent: #3b82f6;
	--color-success: #22c55e;
	--color-warning: #f97316;
	--color-danger: #ef4444;
	--color-info: #06b6d4;

	// Shadows and overlays
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
	--overlay-bg: rgba(0, 0, 0, 0.5);

	// Transitions
	--transition-theme: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

// Dark Theme
@media (prefers-color-scheme: dark) {
	:root {
		--color-bg: #000000;
		--color-bg-alt: #1a1a1a;
		--color-wrapper-bg: #0a0a0a;
		--color-fg: #ffffff;
		--color-fg-bold: #ffffff;
		--color-fg-light: rgba(255, 255, 255, 0.7);
		--color-border: #2a2a2a;
		--color-border-bg: rgba(42, 42, 42, 0.25);

		// Card backgrounds
		--color-card-bg: #1a1a1a;
		--color-card-border: #3a3a3a;

		// Navigation
		--color-nav-bg: rgba(0, 0, 0, 0.95);
		--color-nav-border: #2a2a2a;

		// Shadows and overlays (adjusted for dark mode)
		--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
		--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
		--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
		--overlay-bg: rgba(0, 0, 0, 0.7);
	}
}

// Manual theme override classes
[data-theme="light"] {
	--color-bg: #ffffff;
	--color-bg-alt: #f5f5f5;
	--color-wrapper-bg: #f8f8f8;
	--color-fg: #1a1a1a;
	--color-fg-bold: #000000;
	--color-fg-light: #6b6b6b;
	--color-border: #e5e5e5;
	--color-border-bg: rgba(229, 229, 229, 0.25);
	--color-card-bg: #f5f5f5;
	--color-card-border: #d5d5d5;
	--color-nav-bg: rgba(255, 255, 255, 0.95);
	--color-nav-border: #e5e5e5;
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
	--overlay-bg: rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] {
	--color-bg: #000000;
	--color-bg-alt: #1a1a1a;
	--color-wrapper-bg: #0a0a0a;
	--color-fg: #ffffff;
	--color-fg-bold: #ffffff;
	--color-fg-light: rgba(255, 255, 255, 0.7);
	--color-border: #2a2a2a;
	--color-border-bg: rgba(42, 42, 42, 0.25);
	--color-card-bg: #1a1a1a;
	--color-card-border: #3a3a3a;
	--color-nav-bg: rgba(0, 0, 0, 0.95);
	--color-nav-border: #2a2a2a;
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
	--overlay-bg: rgba(0, 0, 0, 0.7);
}

// Apply CSS variables to elements
body {
	background-color: var(--color-bg);
	color: var(--color-fg);
	transition: var(--transition-theme);
}

#wrapper {
	background-color: var(--color-wrapper-bg);
	transition: var(--transition-theme);
}

// Theme toggle button styles
.theme-toggle {
	position: fixed;
	bottom: 2rem;
	right: 2rem;
	width: 3rem;
	height: 3rem;
	border-radius: 50%;
	background: var(--color-accent);
	border: 2px solid var(--color-border);
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: transform 0.2s ease, box-shadow 0.2s ease;
	z-index: 10000;
	box-shadow: var(--shadow-md);

	&:hover {
		transform: scale(1.1);
		box-shadow: var(--shadow-lg);
	}

	&:active {
		transform: scale(0.95);
	}

	.icon {
		color: white;
		font-size: 1.25rem;
	}

	// Hide inactive icon
	.icon-sun {
		display: block;
	}

	.icon-moon {
		display: none;
	}
}

// Dark mode icon visibility
[data-theme="dark"] .theme-toggle .icon-sun {
	display: none;
}

[data-theme="dark"] .theme-toggle .icon-moon {
	display: block;
}

@media (prefers-color-scheme: dark) {
	:root:not([data-theme="light"]) .theme-toggle .icon-sun {
		display: none;
	}

	:root:not([data-theme="light"]) .theme-toggle .icon-moon {
		display: block;
	}
}

// Update various components to use CSS variables
.box, article {
	background: var(--color-card-bg);
	border-color: var(--color-card-border);
	transition: var(--transition-theme);
}

#nav {
	background-color: var(--color-nav-bg);
	border-bottom-color: var(--color-nav-border);
	transition: var(--transition-theme);

	ul.links li a {
		color: var(--color-fg);

		&:hover {
			color: var(--color-accent);
		}
	}
}

// Update buttons with theme colors
.button {
	transition: var(--transition-theme);

	&.primary {
		background-color: var(--color-accent);
		color: white;

		&:hover {
			background-color: darken(#3b82f6, 10%);
		}
	}
}

// Form elements
input[type="text"],
input[type="email"],
input[type="tel"],
textarea,
select {
	background-color: var(--color-bg);
	border-color: var(--color-border);
	color: var(--color-fg);
	transition: var(--transition-theme);

	&:focus {
		border-color: var(--color-accent);
	}
}

// Tables
table {
	tbody tr {
		border-color: var(--color-border);

		&:nth-child(2n + 1) {
			background-color: var(--color-bg-alt);
		}
	}

	th {
		color: var(--color-fg-bold);
	}

	td {
		color: var(--color-fg);
	}
}

// Links
a {
	color: var(--color-accent);

	&:hover {
		color: darken(#3b82f6, 10%);
	}
}

// Headings
h1, h2, h3, h4, h5, h6 {
	color: var(--color-fg-bold);
}

// Paragraphs and text
p {
	color: var(--color-fg);
}

// Borders
.bordered {
	border-color: var(--color-border);
}

// Overlay
.overlay {
	background-color: var(--overlay-bg);
}