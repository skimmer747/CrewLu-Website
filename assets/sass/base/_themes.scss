// Theme System with CSS Custom Properties
// Automatically switches between light and dark modes based on system preferences

:root {
	// Declare support for both light and dark color schemes
	color-scheme: light dark;

	// Light Theme (Default)
	--color-bg: #ffffff;
	--color-bg-alt: #f5f5f5;
	--color-wrapper-bg: #f8f8f8;
	--color-fg: #1a1a1a;
	--color-fg-bold: #000000;
	--color-fg-light: #6b6b6b;
	--color-border: #e5e5e5;
	--color-border-bg: rgba(229, 229, 229, 0.25);

	// Card backgrounds
	--color-card-bg: #f5f5f5;
	--color-card-border: #d5d5d5;

	// Navigation
	--color-nav-bg: rgba(255, 255, 255, 0.95);
	--color-nav-border: #e5e5e5;

	// Accent Colors (shared between themes)
	--color-accent: #3b82f6;
	--color-accent-secondary: #10b981;
	--color-success: #22c55e;
	--color-warning: #f97316;
	--color-danger: #ef4444;
	--color-info: #06b6d4;

	// Gradients
	--color-gradient-primary: linear-gradient(135deg, #3b82f6, #1d4ed8);
	--color-gradient-secondary: linear-gradient(135deg, #10b981, #059669);

	// Shadows and overlays
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
	--shadow-blue: 0 4px 14px 0 rgba(59, 130, 246, 0.2);
	--shadow-green: 0 4px 14px 0 rgba(16, 185, 129, 0.2);
	--overlay-bg: rgba(0, 0, 0, 0.5);

	// Slideshow colors
	--color-slideshow-bg-start: #e3f2fd;
	--color-slideshow-bg-end: #bbdefb;
	--color-caption-bg: rgba(255, 255, 255, 0.9);
	--color-button-bg: rgba(255, 255, 255, 0.8);
	--color-nav-dot: rgba(255, 255, 255, 0.4);
	--color-nav-dot-hover: rgba(255, 255, 255, 0.6);
	--color-accent-light: rgba(59, 130, 246, 0.3);

	// Transitions
	--transition-theme: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

// Dark Theme
@media (prefers-color-scheme: dark) {
	:root {
		--color-bg: #000000;
		--color-bg-alt: #1a1a1a;
		--color-wrapper-bg: #0a0a0a;
		--color-fg: #ffffff;
		--color-fg-bold: #ffffff;
		--color-fg-light: rgba(255, 255, 255, 0.7);
		--color-border: #2a2a2a;
		--color-border-bg: rgba(42, 42, 42, 0.25);

		// Card backgrounds
		--color-card-bg: #1a1a1a;
		--color-card-border: #3a3a3a;

		// Navigation
		--color-nav-bg: rgba(0, 0, 0, 0.95);
		--color-nav-border: #2a2a2a;

		// Shadows and overlays (adjusted for dark mode)
		--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
		--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
		--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
		--shadow-blue: 0 4px 14px 0 rgba(59, 130, 246, 0.3);
		--shadow-green: 0 4px 14px 0 rgba(16, 185, 129, 0.3);
		--overlay-bg: rgba(0, 0, 0, 0.7);

		// Slideshow colors (dark mode)
		--color-slideshow-bg-start: #0d47a1;
		--color-slideshow-bg-end: #1565c0;
		--color-caption-bg: rgba(0, 0, 0, 0.8);
		--color-button-bg: rgba(0, 0, 0, 0.7);
		--color-nav-dot: rgba(255, 255, 255, 0.3);
		--color-nav-dot-hover: rgba(255, 255, 255, 0.5);
		--color-accent-light: rgba(59, 130, 246, 0.4);
	}
}

// Apply CSS variables to elements
body {
	background-color: var(--color-bg);
	color: var(--color-fg);
	transition: var(--transition-theme);
}

#wrapper {
	background-color: var(--color-wrapper-bg);
	transition: var(--transition-theme);
}

// Update various components to use CSS variables
.box, article {
	background: var(--color-card-bg);
	border-color: var(--color-card-border);
	transition: var(--transition-theme);
}

#nav {
	background-color: var(--color-nav-bg);
	border-bottom-color: var(--color-nav-border);
	transition: var(--transition-theme);

	ul.links li a {
		color: var(--color-fg);

		&:hover {
			color: var(--color-accent);
		}
	}
}

// Update buttons with theme colors
.button {
	transition: var(--transition-theme);

	&.primary {
		background-color: var(--color-accent);
		color: white;

		&:hover {
			background-color: darken(#3b82f6, 10%);
		}
	}
}

// Form elements
input[type="text"],
input[type="email"],
input[type="tel"],
textarea,
select {
	background-color: var(--color-bg);
	border-color: var(--color-border);
	color: var(--color-fg);
	transition: var(--transition-theme);

	&:focus {
		border-color: var(--color-accent);
	}
}

// Tables
table {
	tbody tr {
		border-color: var(--color-border);

		&:nth-child(2n + 1) {
			background-color: var(--color-bg-alt);
		}
	}

	th {
		color: var(--color-fg-bold);
	}

	td {
		color: var(--color-fg);
	}
}

// Links
a {
	color: var(--color-accent);

	&:hover {
		color: darken(#3b82f6, 10%);
	}
}

// Headings
h1, h2, h3, h4, h5, h6 {
	color: var(--color-fg-bold);
}

// Paragraphs and text
p {
	color: var(--color-fg);
}

// Borders
.bordered {
	border-color: var(--color-border);
}

// Overlay
.overlay {
	background-color: var(--overlay-bg);
}